module.exports=[52309,780,30994,56601,52724,87273,30347,e=>{"use strict";let t;e.s(["patchFetch",()=>L],52309);var r=e.i(41949),n=e.i(6188),a=e.i(49442);e.s(["Postpone",()=>A,"annotateDynamicAccess",()=>$,"delayUntilRuntimeStage",()=>j,"isPrerenderInterruptedError",()=>k,"markCurrentScopeAsDynamic",()=>C,"postponeWithTracking",()=>D,"throwToInterruptStaticGeneration",()=>N,"trackDynamicDataInDynamicRender",()=>S,"trackSynchronousRequestDataAccessInDev",()=>O],30347);var i=e.i(35399);e.s(["DynamicServerError",()=>o,"isDynamicServerError",()=>c],780);let s="DYNAMIC_SERVER_USAGE";class o extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=s}}function c(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===s}e.s(["StaticGenBailoutError",()=>l],30994);class l extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}var d=e.i(32319);e.i(56704),e.s(["makeDevtoolsIOAwarePromise",()=>g,"makeHangingPromise",()=>f],56601);class u extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest="HANGING_PROMISE_REJECTION"}}let h=new WeakMap;function f(e,t,r){if(e.aborted)return Promise.reject(new u(t,r));{let n=new Promise((n,a)=>{let i=a.bind(null,new u(t,r)),s=h.get(e);if(s)s.push(i);else{let t=[i];h.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(p),n}}function p(){}function g(e){return new Promise(t=>{setTimeout(()=>{t(e)},0)})}e.s(["METADATA_BOUNDARY_NAME",()=>y,"OUTLET_BOUNDARY_NAME",()=>m,"ROOT_LAYOUT_BOUNDARY_NAME",()=>E,"VIEWPORT_BOUNDARY_NAME",()=>v],52724);let y="__next_metadata_boundary__",v="__next_viewport_boundary__",m="__next_outlet_boundary__",E="__next_root_layout_boundary__";var b=e.i(21285);e.s(["BailoutToCSRError",()=>R,"isBailoutToCSRError",()=>T],87273);let _="BAILOUT_TO_CLIENT_SIDE_RENDERING";class R extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=_}}function T(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===_}var w=e.i(42941);let x="function"==typeof i.default.unstable_postpone;function C(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new l(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":return D(e.route,r,t.dynamicTracking);case"prerender-legacy":t.revalidate=0;let n=Object.defineProperty(new o(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}function N(e,t,r){let n=Object.defineProperty(new o(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function S(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}let O=function(e){e.prerenderPhase=!1};function A({reason:e,route:t}){let r=d.workUnitAsyncStorage.getStore();D(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function D(e,t,r){(function(){if(!x)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),i.default.unstable_postpone(I(e,t))}function I(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}if(!1===function(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}(I("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});function k(e){return"object"==typeof e&&null!==e&&"NEXT_PRERENDER_INTERRUPTED"===e.digest&&"name"in e&&"message"in e&&e instanceof Error}function $(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function j(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${E} \\([^\\n]*\\)`),RegExp(`\\n\\s+at ${y}[\\n\\s]`),RegExp(`\\n\\s+at ${v}[\\n\\s]`),RegExp(`\\n\\s+at ${m}[\\n\\s]`);let P=()=>{};function H(e){if(!e.body)return[e,e];let[r,n]=e.body.tee(),a=new Response(r,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(a,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),t&&a.body&&t.register(a,new WeakRef(a.body));let i=new Response(n,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(i,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),[a,i]}globalThis.FinalizationRegistry&&(t=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&t.cancel("Response object has been garbage collected").then(P)})),e.i(42551);var B=e.i(54850);let F=Symbol.for("next-patch");function U(e,t){e.shouldTrackFetchMetrics&&(e.fetchMetrics??=[],e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0}))}async function G(e,t,r,n,a,i){let s=await e.arrayBuffer(),o={headers:Object.fromEntries(e.headers.entries()),body:Buffer.from(s).toString("base64"),status:e.status,url:e.url};return r&&await n.set(t,{kind:B.CachedRouteKind.FETCH,data:o,revalidate:a},r),await i(),new Response(s,{headers:e.headers,status:e.status,statusText:e.statusText})}async function X(e,t,r,n,a,i,s,o,c){let[l,d]=H(t),u=l.arrayBuffer().then(async e=>{let t=Buffer.from(e),o={headers:Object.fromEntries(l.headers.entries()),body:t.toString("base64"),status:l.status,url:l.url};null==i||i.set(r,o),n&&await a.set(r,{kind:B.CachedRouteKind.FETCH,data:o,revalidate:s},n)}).catch(e=>console.warn("Failed to set fetch cache",o,e)).finally(c),h=`cache-set-${r}`;return e.pendingRevalidates??={},h in e.pendingRevalidates&&await e.pendingRevalidates[h],e.pendingRevalidates[h]=u.finally(()=>{var t;(null==(t=e.pendingRevalidates)?void 0:t[h])&&delete e.pendingRevalidates[h]}),d}function L(e){if(!0===globalThis[F])return;let t=function(e){let t=i.cache(e=>[]);return function(r,n){let a,i;if(n&&n.signal)return e(r,n);if("string"!=typeof r||n){let t="string"==typeof r||r instanceof URL?new Request(r,n):r;if("GET"!==t.method&&"HEAD"!==t.method||t.keepalive)return e(r,n);i=JSON.stringify([t.method,Array.from(t.headers.entries()),t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity]),a=t.url}else i='["GET",[],null,"follow",null,null,null,null]',a=r;let s=t(a);for(let e=0,t=s.length;e<t;e+=1){let[t,r]=s[e];if(t===i)return r.then(()=>{let t=s[e][2];if(!t)throw Object.defineProperty(new w.InvariantError("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[r,n]=H(t);return s[e][2]=n,r})}let o=e(r,n),c=[i,o,null];return s.push(c),o.then(e=>{let[t,r]=H(e);return c[2]=r,t})}}(globalThis.fetch);globalThis.fetch=function(e,{workAsyncStorage:t,workUnitAsyncStorage:i}){let s=async function(s,o){var c,l;let u;try{(u=new URL(s instanceof Request?s.url:s)).username="",u.password=""}catch{u=void 0}let h=(null==u?void 0:u.href)??"",p=(null==o||null==(c=o.method)?void 0:c.toUpperCase())||"GET",g=(null==o||null==(l=o.next)?void 0:l.internal)===!0,y="1"===process.env.NEXT_OTEL_FETCH_DISABLED,v=g?void 0:performance.timeOrigin+performance.now(),m=t.getStore(),E=i.getStore(),_=E?(0,d.getCacheSignal)(E):null;_&&_.beginRead();let R=(0,n.getTracer)().trace(g?r.NextNodeServerSpan.internalFetch:r.AppRenderSpan.fetch,{hideSpan:y,kind:n.SpanKind.CLIENT,spanName:["fetch",p,h].filter(Boolean).join(" "),attributes:{"http.url":h,"http.method":p,"net.peer.name":null==u?void 0:u.hostname,"net.peer.port":(null==u?void 0:u.port)||void 0}},async()=>{var t;let r,n,i,c,l,d;if(g||!m||m.isDraftMode)return e(s,o);let u=s&&"object"==typeof s&&"string"==typeof s.method,p=e=>(null==o?void 0:o[e])||(u?s[e]:null),y=e=>{var t,r,n;return void 0!==(null==o||null==(t=o.next)?void 0:t[e])?null==o||null==(r=o.next)?void 0:r[e]:u?null==(n=s.next)?void 0:n[e]:void 0},R=y("revalidate"),T=R,w=function(e,t){let r=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if("string"!=typeof s?n.push({tag:s,reason:"invalid type, must be a string"}):s.length>a.NEXT_CACHE_TAG_MAX_LENGTH?n.push({tag:s,reason:`exceeded max length of ${a.NEXT_CACHE_TAG_MAX_LENGTH}`}):r.push(s),r.length>a.NEXT_CACHE_TAG_MAX_ITEMS){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(i).join(", "));break}}if(n.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),n))console.log(`tag: "${e}" ${r}`);return r}(y("tags")||[],`fetch ${s.toString()}`);if(E)switch(E.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":r=E}if(r&&Array.isArray(w)){let e=r.tags??(r.tags=[]);for(let t of w)e.includes(t)||e.push(t)}let x=null==E?void 0:E.implicitTags,N=m.fetchCache;E&&"unstable-cache"===E.type&&(N="force-no-store");let S=!!m.isUnstableNoStore,O=p("cache"),A="";"string"==typeof O&&void 0!==T&&("force-cache"===O&&0===T||"no-store"===O&&(T>0||!1===T))&&(n=`Specified "cache: ${O}" and "revalidate: ${T}", only one should be specified.`,O=void 0,T=void 0);let D="no-cache"===O||"no-store"===O||"force-no-store"===N||"only-no-store"===N,I=!N&&!O&&!T&&m.forceDynamic;"force-cache"===O&&void 0===T?T=!1:(D||I)&&(T=0),("no-cache"===O||"no-store"===O)&&(A=`cache: ${O}`),d=function(e,t){try{let r;if(!1===e)r=a.INFINITE_CACHE;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Object.defineProperty(Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}(T,m.route);let k=p("headers"),$="function"==typeof(null==k?void 0:k.get)?k:new Headers(k||{}),j=$.get("authorization")||$.get("cookie"),P=!["get","head"].includes((null==(t=p("method"))?void 0:t.toLowerCase())||"get"),F=void 0==N&&(void 0==O||"default"===O)&&void 0==T,L=!!((j||P)&&(null==r?void 0:r.revalidate)===0),M=!1;if(!L&&F&&(m.isBuildTimePrerendering?M=!0:L=!0),F&&void 0!==E)switch(E.type){case"prerender":case"prerender-runtime":case"prerender-client":return _&&(_.endRead(),_=null),f(E.renderSignal,m.route,"fetch()")}switch(N){case"force-no-store":A="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===O||void 0!==d&&d>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${h} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});A="fetchCache = only-no-store";break;case"only-cache":if("no-store"===O)throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${h} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(void 0===T||0===T)&&(A="fetchCache = force-cache",d=a.INFINITE_CACHE)}if(void 0===d?"default-cache"!==N||S?"default-no-store"===N?(d=0,A="fetchCache = default-no-store"):S?(d=0,A="noStore call"):L?(d=0,A="auto no cache"):(A="auto cache",d=r?r.revalidate:a.INFINITE_CACHE):(d=a.INFINITE_CACHE,A="fetchCache = default-cache"):A||(A=`revalidate: ${d}`),!(m.forceStatic&&0===d)&&!L&&r&&d<r.revalidate){if(0===d){if(E)switch(E.type){case"prerender":case"prerender-client":case"prerender-runtime":return _&&(_.endRead(),_=null),f(E.renderSignal,m.route,"fetch()")}C(m,E,`revalidate: 0 fetch ${s} ${m.route}`)}r&&R===d&&(r.revalidate=d)}let Y="number"==typeof d&&d>0,{incrementalCache:q}=m,K=!1;if(E)switch(E.type){case"request":case"cache":case"private-cache":K=E.isHmrRefresh??!1,c=E.serverComponentsHmrCache}if(q&&(Y||c))try{i=await q.generateCacheKey(h,u?s:o)}catch(e){console.error("Failed to generate cache key for",s)}let W=m.nextFetchId??1;m.nextFetchId=W+1;let z=()=>{},J=async(t,r)=>{let l=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(u){let e=s,t={body:e._ogBody||e.body};for(let r of l)t[r]=e[r];s=new Request(e.url,t)}else if(o){let{_ogBody:e,body:r,signal:n,...a}=o;o={...a,body:e||r,signal:t?void 0:n}}let f={...o,next:{...null==o?void 0:o.next,fetchType:"origin",fetchIdx:W}};return e(s,f).then(async e=>{if(!t&&v&&U(m,{start:v,url:h,cacheReason:r||A,cacheStatus:0===d||r?"skip":"miss",cacheWarning:n,status:e.status,method:f.method||"GET"}),200===e.status&&q&&i&&(Y||c)){let t=d>=a.INFINITE_CACHE?a.CACHE_ONE_YEAR:d,r=Y?{fetchCache:!0,fetchUrl:h,fetchIdx:W,tags:w,isImplicitBuildTimeCache:M}:void 0;switch(null==E?void 0:E.type){case"prerender":case"prerender-client":case"prerender-runtime":return G(e,i,r,q,t,z);case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":case void 0:return X(m,e,i,r,q,c,t,s,z)}}return await z(),e}).catch(e=>{throw z(),e})},V=!1,Q=!1;if(i&&q){let e;if(K&&c&&(e=c.get(i),Q=!0),Y&&!e){z=await q.lock(i);let t=m.isOnDemandRevalidate?null:await q.get(i,{kind:B.IncrementalCacheKind.FETCH,revalidate:d,fetchUrl:h,fetchIdx:W,tags:w,softTags:null==x?void 0:x.tags});if(F&&E)switch(E.type){case"prerender":case"prerender-client":case"prerender-runtime":await (0,b.waitAtLeastOneReactRenderTask)()}if(t?await z():l="cache-control: no-cache (hard refresh)",(null==t?void 0:t.value)&&t.value.kind===B.CachedRouteKind.FETCH)if(m.isRevalidate&&t.isStale)V=!0;else{if(t.isStale&&(m.pendingRevalidates??={},!m.pendingRevalidates[i])){let e=J(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{m.pendingRevalidates??={},delete m.pendingRevalidates[i||""]});e.catch(console.error),m.pendingRevalidates[i]=e}e=t.value.data}}if(e){v&&U(m,{start:v,url:h,cacheReason:A,cacheStatus:Q?"hmr":"hit",cacheWarning:n,status:e.status||200,method:(null==o?void 0:o.method)||"GET"});let t=new Response(Buffer.from(e.body,"base64"),{headers:e.headers,status:e.status});return Object.defineProperty(t,"url",{value:e.url}),t}}if(m.isStaticGeneration&&o&&"object"==typeof o){let{cache:e}=o;if("no-store"===e){if(E)switch(E.type){case"prerender":case"prerender-client":case"prerender-runtime":return _&&(_.endRead(),_=null),f(E.renderSignal,m.route,"fetch()")}C(m,E,`no-store fetch ${s} ${m.route}`)}let t="next"in o,{next:n={}}=o;if("number"==typeof n.revalidate&&r&&n.revalidate<r.revalidate){if(0===n.revalidate){if(E)switch(E.type){case"prerender":case"prerender-client":case"prerender-runtime":return f(E.renderSignal,m.route,"fetch()")}C(m,E,`revalidate: 0 fetch ${s} ${m.route}`)}m.forceStatic&&0===n.revalidate||(r.revalidate=n.revalidate)}t&&delete o.next}if(!i||!V)return J(!1,l);{let e=i;m.pendingRevalidates??={};let t=m.pendingRevalidates[e];if(t){let e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}let r=J(!0,l).then(H);return(t=r.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;(null==(t=m.pendingRevalidates)?void 0:t[e])&&delete m.pendingRevalidates[e]})).catch(()=>{}),m.pendingRevalidates[e]=t,r.then(e=>e[1])}});if(_)try{return await R}finally{_&&_.endRead()}return R};return s.__nextPatched=!0,s.__nextGetStaticStore=()=>t,s._nextOriginalFetch=e,globalThis[F]=!0,Object.defineProperty(s,"name",{value:"fetch",writable:!1}),s}(t,e)}}];

//# sourceMappingURL=b8cd5_next_dist_esm_server_lib_patch-fetch_49cc9b02.js.map